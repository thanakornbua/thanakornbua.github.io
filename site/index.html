<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thanakorn Buathongtanakarn - Portfolio</title>
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="favicon/icon.png">
    <link rel="apple-touch-icon" href="favicon/icon.png">
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: '#3b82f6',
                    },
                    keyframes: {
                        fadeUp: {
                            '0%': { opacity: '0', transform: 'translateY(16px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' }
                        }
                    },
                    animation: {
                        'fade-up': 'fadeUp 0.6s ease-out forwards'
                    }
                }
            }
        }
    </script>
    <!-- Geeky Font (JetBrains Mono) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body {
            font-family: 'JetBrains Mono', ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
        }

        /* Custom Styles that are harder with just utility classes */
        .glass-nav {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
        }
        .dark .glass-nav {
            background: rgba(30, 30, 30, 0.8);
        }

        .typing-cursor {
            display: inline-block;
            transform: translateY(-1px);
            animation: cursorBlink 1s step-end infinite;
        }
        @keyframes cursorBlink {
            0%, 49% { opacity: 1; }
            50%, 100% { opacity: 0; }
        }

        .geek-glow {
            box-shadow:
                0 10px 30px rgba(0, 0, 0, 0.10),
                0 0 0 1px rgba(59, 130, 246, 0.35),
                0 0 24px rgba(59, 130, 246, 0.15);
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 dark:bg-gray-900 dark:text-gray-100 transition-colors duration-300">

    <!-- Navigation -->
    <nav class="fixed w-full z-50 glass-nav shadow-sm transition-colors duration-300">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo/Name -->
                <div class="flex-shrink-0 flex items-center">
                    <span id="nav-name" class="font-bold text-xl text-primary">Loading...</span>
                </div>
                
                <!-- Desktop Menu -->
                <div class="hidden md:flex items-center">
                    <div class="flex items-center space-x-8">
                        <a href="#about" class="hover:text-primary transition-colors">About</a>
                        <a href="#skills" class="hover:text-primary transition-colors">Skills</a>
                        <a href="#projects" class="hover:text-primary transition-colors">Projects</a>
                        <a href="#competitions" class="hover:text-primary transition-colors">Competitions</a>
                        <a href="#contact" class="hover:text-primary transition-colors">Contact</a>
                    </div>

                    <div class="ml-8 pl-8 border-l border-gray-200 dark:border-gray-700 flex items-center space-x-6">
                        <a href="credits.html" class="hover:text-primary transition-colors">Credits</a>
                        <a href="https://tree.thanakorn.site" target="_blank" rel="noopener noreferrer" class="inline-flex items-center hover:text-primary transition-colors" aria-label="Open Linktree in a new tab">
                            <i class="fas fa-tree mr-2"></i>
                            <span>Linktree</span>
                        </a>

                        <!-- Theme Toggle -->
                        <button id="theme-toggle" class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors focus:outline-none" aria-label="Toggle Dark Mode">
                            <i class="fas fa-moon"></i>
                        </button>
                    </div>
                </div>

                <!-- Mobile Menu Button -->
                <div class="md:hidden flex items-center">
                     <button id="theme-toggle-mobile" class="mr-4 p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors focus:outline-none">
                        <i class="fas fa-moon"></i>
                    </button>
                    <button id="mobile-menu-btn" class="text-gray-600 dark:text-gray-200 hover:text-primary focus:outline-none">
                        <i class="fas fa-bars text-2xl"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-white dark:bg-gray-800 shadow-md">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="#about" class="block px-3 py-2 rounded-md text-base font-medium hover:text-primary hover:bg-gray-100 dark:hover:bg-gray-700">About</a>
                <a href="#skills" class="block px-3 py-2 rounded-md text-base font-medium hover:text-primary hover:bg-gray-100 dark:hover:bg-gray-700">Skills</a>
                <a href="#projects" class="block px-3 py-2 rounded-md text-base font-medium hover:text-primary hover:bg-gray-100 dark:hover:bg-gray-700">Projects</a>
                <a href="#competitions" class="block px-3 py-2 rounded-md text-base font-medium hover:text-primary hover:bg-gray-100 dark:hover:bg-gray-700">Competitions</a>
                <a href="#contact" class="block px-3 py-2 rounded-md text-base font-medium hover:text-primary hover:bg-gray-100 dark:hover:bg-gray-700">Contact</a>
                <a href="credits.html" class="block px-3 py-2 rounded-md text-base font-medium hover:text-primary hover:bg-gray-100 dark:hover:bg-gray-700">Credits</a>
                <a href="https://tree.thanakorn.site" target="_blank" rel="noopener noreferrer" class="flex items-center px-3 py-2 rounded-md text-base font-medium hover:text-primary hover:bg-gray-100 dark:hover:bg-gray-700">
                    <i class="fas fa-tree mr-2"></i><span>Linktree</span>
                </a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header id="hero" class="min-h-screen pt-20 pb-16 flex items-center">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 w-full">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-10 md:gap-14 items-center">
                <!-- Left: Picture -->
                <div class="md:pr-10 md:border-r md:border-gray-200 dark:md:border-gray-700 flex justify-center md:justify-end">
                    <div class="w-full max-w-sm">
                        <div class="geek-glow rounded-2xl border border-gray-200 dark:border-gray-700 bg-white/70 dark:bg-gray-900/60 backdrop-blur overflow-hidden">
                            <div class="flex items-center gap-2 px-4 py-3 border-b border-gray-200/60 dark:border-gray-700/60">
                                <span class="w-3 h-3 rounded-full bg-red-400"></span>
                                <span class="w-3 h-3 rounded-full bg-yellow-400"></span>
                                <span class="w-3 h-3 rounded-full bg-green-400"></span>
                                <span class="ml-auto text-xs font-mono text-gray-500 dark:text-gray-400">~/portfolio</span>
                            </div>
                            <div class="p-6 flex items-center justify-center">
                                <img id="profile-img" src="" alt="Profile" class="w-56 h-56 sm:w-64 sm:h-64 rounded-2xl object-cover border border-gray-200 dark:border-gray-700" onerror="this.src='https://via.placeholder.com/256'">
                            </div>
                            <div class="px-6 pb-6 text-center">
                                <p class="text-xs font-mono text-gray-500 dark:text-gray-400">./assets/tan.jpg</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right: Intro -->
                <div class="text-center md:text-left">
                    <p class="text-sm font-mono text-gray-500 dark:text-gray-400 mb-3">$ hello-world</p>
                    <h1 class="text-4xl md:text-6xl font-extrabold tracking-tight mb-4">
                        Hi, I'm <span id="hero-name" class="text-primary">Loading...</span>
                    </h1>

                    <p id="hero-role" class="text-lg md:text-2xl font-mono text-gray-700 dark:text-gray-200 mb-5">
                        I'm a <span id="hero-typed" class="text-primary font-semibold"></span><span class="typing-cursor text-primary">‚ñç</span>
                    </p>

                    <p id="hero-intro" class="text-base md:text-lg text-gray-600 dark:text-gray-400 leading-relaxed mb-8">
                        Loading...
                    </p>

                    <div class="flex items-center justify-center md:justify-start gap-4 flex-wrap">
                        <a href="#projects" class="bg-primary hover:bg-blue-600 text-white font-bold py-3 px-8 rounded-full transition-all transform hover:scale-105 shadow-md">
                            View My Work
                        </a>
                        <a id="cv-link" href="#" download class="bg-gray-900 dark:bg-white dark:text-gray-900 text-white font-bold py-3 px-8 rounded-full transition-all transform hover:scale-105 shadow-md border border-gray-200 dark:border-gray-800">
                            Download CV
                        </a>
                        <a href="#contact" class="font-mono inline-flex items-center px-6 py-3 rounded-full border border-gray-200 dark:border-gray-700 text-gray-800 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all">
                            <span class="mr-2 text-primary">&gt;</span> Ping me
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- About Section -->
    <section id="about" class="py-20 bg-white dark:bg-gray-800">
        <div class="max-w-4xl mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-12 relative after:content-[''] after:block after:w-16 after:h-1 after:bg-primary after:mx-auto after:mt-4">About Me</h2>
            <p id="about-text" class="text-lg text-gray-700 dark:text-gray-300 leading-relaxed text-center">
                Loading...
            </p>
        </div>
    </section>

    <!-- Skills Section -->
    <section id="skills" class="py-20">
        <div class="max-w-6xl mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-12 relative after:content-[''] after:block after:w-16 after:h-1 after:bg-primary after:mx-auto after:mt-4">Skills</h2>
            <div id="skills-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6 text-center">
                <!-- Skills injected here -->
            </div>
        </div>
    </section>

    <!-- Projects Section -->
    <section id="projects" class="py-20 bg-white dark:bg-gray-800">
        <div class="max-w-6xl mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-12 relative after:content-[''] after:block after:w-16 after:h-1 after:bg-primary after:mx-auto after:mt-4">Projects</h2>
            <div id="projects-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Projects injected here -->
            </div>
        </div>
    </section>

    <!-- Competitions Section -->
    <section id="competitions" class="py-20">
        <div class="max-w-6xl mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-12 relative after:content-[''] after:block after:w-24 after:h-1 after:bg-primary after:mx-auto after:mt-4">Competitions</h2>
            <p class="text-center text-gray-600 dark:text-gray-400 mb-8">Selected competitions, awards, and achievements.</p>
            <div id="competitions-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Competitions injected here -->
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="py-20">
        <div class="max-w-4xl mx-auto px-4 text-center">
            <h2 class="text-3xl font-bold mb-8 relative after:content-[''] after:block after:w-16 after:h-1 after:bg-primary after:mx-auto after:mt-4">Get In Touch</h2>
            <p class="text-lg text-gray-600 dark:text-gray-400 mb-8">I'm currently open for new opportunities. Feel free to reach out!</p>
            
            <div id="email-container" class="mb-10">
                <!-- Email Button Injected Here -->
            </div>

            <div id="social-links" class="flex justify-center space-x-8 text-3xl text-gray-600 dark:text-gray-400">
                <!-- Social links injected here -->
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-100 dark:bg-gray-900 py-8 text-center text-gray-500 dark:text-gray-500">
        <p>&copy; 2026 <span id="footer-name">Thanakorn Buathongtanakarn</span>. All rights reserved.</p>
    </footer>

    <script>
        // --- Theme Logic ---
        const themeToggleBtns = document.querySelectorAll('#theme-toggle, #theme-toggle-mobile');
        const html = document.documentElement;
        
        // Check local storage or system preference
        if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            html.classList.add('dark');
            updateIcons('dark');
        } else {
            html.classList.remove('dark');
            updateIcons('light');
        }

        function updateIcons(theme) {
            themeToggleBtns.forEach(btn => {
                const icon = btn.querySelector('i');
                if (theme === 'dark') {
                    icon.classList.remove('fa-moon');
                    icon.classList.add('fa-sun');
                } else {
                    icon.classList.remove('fa-sun');
                    icon.classList.add('fa-moon');
                }
            });
        }

        themeToggleBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                html.classList.toggle('dark');
                if (html.classList.contains('dark')) {
                    localStorage.theme = 'dark';
                    updateIcons('dark');
                } else {
                    localStorage.theme = 'light';
                    updateIcons('light');
                }
            });
        });

        // --- Mobile Menu Logic ---
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');

        mobileMenuBtn.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });

        // Close mobile menu when a link is clicked
        document.querySelectorAll('#mobile-menu a').forEach(link => {
            link.addEventListener('click', () => {
                mobileMenu.classList.add('hidden');
            });
        });

        // --- Hero typing animation ---
        function buildRoleList(data) {
            const fromArray = data?.personalInfo?.roles;
            if (Array.isArray(fromArray) && fromArray.length) return fromArray;

            const roleStr = data?.personalInfo?.role;
            if (typeof roleStr === 'string' && roleStr.trim()) {
                const parts = roleStr
                    .split(/,|&|\band\b/gi)
                    .map(s => s.trim())
                    .filter(Boolean);
                if (parts.length >= 2) return parts;
            }

            return ['Student', 'Developer', 'Amateur Photographer'];
        }

        function startTypingLoop(targetEl, words, {
            typeSpeed = 70,
            deleteSpeed = 38,
            holdDelay = 1100,
            betweenDelay = 250
        } = {}) {
            if (!targetEl || !Array.isArray(words) || words.length === 0) return;

            const prefersReducedMotion = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
            if (prefersReducedMotion) {
                targetEl.textContent = words[0];
                return;
            }

            let wordIndex = 0;
            let charIndex = 0;
            let isDeleting = false;

            const tick = () => {
                const currentWord = String(words[wordIndex] ?? '');
                if (!currentWord) {
                    wordIndex = (wordIndex + 1) % words.length;
                    charIndex = 0;
                    isDeleting = false;
                    return setTimeout(tick, betweenDelay);
                }

                if (!isDeleting) {
                    charIndex = Math.min(charIndex + 1, currentWord.length);
                    targetEl.textContent = currentWord.slice(0, charIndex);
                    if (charIndex >= currentWord.length) {
                        isDeleting = true;
                        return setTimeout(tick, holdDelay);
                    }
                    return setTimeout(tick, typeSpeed);
                }

                charIndex = Math.max(charIndex - 1, 0);
                targetEl.textContent = currentWord.slice(0, charIndex);
                if (charIndex <= 0) {
                    isDeleting = false;
                    wordIndex = (wordIndex + 1) % words.length;
                    return setTimeout(tick, betweenDelay);
                }
                return setTimeout(tick, deleteSpeed);
            };

            tick();
        }

        // --- Data Loading Logic ---
        fetch('data.json')
            .then(response => response.json())
            .then(data => {
                // Personal Info
                document.title = `${data.personalInfo.name} - Portfolio`;
                document.getElementById('nav-name').textContent = data.navbar.name;
                document.getElementById('hero-name').textContent = data.personalInfo.name;
                const heroTyped = document.getElementById('hero-typed');
                startTypingLoop(heroTyped, buildRoleList(data));
                document.getElementById('about-text').textContent = data.personalInfo.bio;
                const heroIntro = document.getElementById('hero-intro');
                if (heroIntro) heroIntro.textContent = data.personalInfo.bio;
                document.getElementById('footer-name').textContent = data.personalInfo.name;
                document.getElementById('profile-img').src = data.personalInfo.profileImage;
                if (data.personalInfo.cv) {
                    const cvLink = document.getElementById('cv-link');
                    if (cvLink) {
                        cvLink.href = data.personalInfo.cv;
                    }
                }

                // Skills
                const skillsContainer = document.getElementById('skills-grid');
                data.skills.forEach(skill => {
                    const skillEl = document.createElement('div');
                    skillEl.className = 'bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow';
                    skillEl.innerHTML = `
                        <i class="${skill.icon} text-4xl text-primary mb-4 block"></i>
                        <span class="font-medium">${skill.name}</span>
                    `;
                    skillsContainer.appendChild(skillEl);
                });

                // Projects
                const projectsContainer = document.getElementById('projects-grid');
                data.projects.forEach(project => {
                    const projectEl = document.createElement('div');
                    projectEl.className = 'reveal opacity-0 translate-y-4 bg-white dark:bg-gray-900 rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-shadow border border-gray-100 dark:border-gray-700 flex flex-col';
                    
                    let linksHtml = '';
                    if (project.github) {
                        linksHtml += `<a href="${project.github}" target="_blank" class="inline-flex items-center text-sm font-medium text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary transition-colors"><i class="fab fa-github mr-2"></i> GitHub</a>`;
                    }
                    if (project.demo) {
                        linksHtml += `<a href="${project.demo}" target="_blank" class="inline-flex items-center text-sm font-medium text-primary hover:text-blue-700 ml-4 transition-colors"><i class="fas fa-external-link-alt mr-2"></i> Live Demo</a>`;
                    }

                    projectEl.innerHTML = `
                        <div class="h-48 bg-gray-200 dark:bg-gray-700 w-full relative overflow-hidden">
                            <div data-project-placeholder class="absolute inset-0 w-full h-full flex items-center justify-center text-gray-400 text-5xl">
                                <i class="fas fa-code"></i>
                            </div>
                            ${project.image ? `<img data-project-cover src="${project.image}" alt="${project.title} cover" class="absolute inset-0 w-full h-full object-cover" loading="lazy">` : ''}
                        </div>
                        <div class="p-6 flex-grow flex flex-col">
                            <h3 class="text-xl font-bold mb-2">${project.title}</h3>
                            <p class="text-gray-600 dark:text-gray-400 mb-4 flex-grow">${project.description}</p>
                            <div class="mt-auto pt-4 border-t border-gray-100 dark:border-gray-700 flex">
                                ${linksHtml}
                            </div>
                        </div>
                    `;

                    const coverImg = projectEl.querySelector('[data-project-cover]');
                    const placeholder = projectEl.querySelector('[data-project-placeholder]');
                    if (coverImg && placeholder) {
                        coverImg.addEventListener('load', () => {
                            placeholder.classList.add('opacity-0');
                        });
                        coverImg.addEventListener('error', () => {
                            coverImg.remove();
                            placeholder.classList.remove('opacity-0');
                        });
                    }
                    projectsContainer.appendChild(projectEl);
                });

                // Competitions
                const competitionsContainer = document.getElementById('competitions-grid');
                if (competitionsContainer && Array.isArray(data.competitions)) {
                    data.competitions.forEach(comp => {
                        const card = document.createElement('div');
                        card.className = 'reveal opacity-0 translate-y-4 bg-white dark:bg-gray-900 rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-shadow border border-gray-100 dark:border-gray-700';
                        
                        const headerBadge = `
                            <div class="flex items-center justify-between p-6 border-b border-gray-100 dark:border-gray-800">
                                <h3 class="text-xl font-bold">${comp.title}</h3>
                                <span class="inline-flex items-center px-3 py-1 text-sm font-semibold rounded-full bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-200">${comp.award}</span>
                            </div>
                        `;

                        const body = `
                            <div class="p-6 space-y-2">
                                <p class="text-gray-600 dark:text-gray-400"><span class="font-semibold">Organization:</span> ${comp.organization || '-'} </p>
                                <p class="text-gray-600 dark:text-gray-400"><span class="font-semibold">Year:</span> ${comp.year || ''}</p>
                                <p class="text-gray-700 dark:text-gray-300 mt-2">${comp.description || ''}</p>
                                <div class="pt-4">
                                    ${comp.link ? `<a href="${comp.link}" target="_blank" class="inline-flex items-center text-sm font-medium text-primary hover:text-blue-700"><i class="fas fa-external-link-alt mr-2"></i> Details</a>` : ''}
                                </div>
                            </div>
                        `;

                        card.innerHTML = headerBadge + body;
                        competitionsContainer.appendChild(card);
                    });
                }

                // Reveal animations for projects and competitions
                const revealEls = document.querySelectorAll('.reveal');
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach((entry) => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('animate-fade-up');
                            entry.target.classList.remove('opacity-0', 'translate-y-4');
                            observer.unobserve(entry.target);
                        }
                    });
                }, { threshold: 0.15, rootMargin: '0px 0px -40px 0px' });

                let i = 0;
                revealEls.forEach((el) => {
                    el.style.animationDelay = `${Math.min(i * 100, 600)}ms`;
                    observer.observe(el);
                    i++;
                });

                // Social Links
                const socialContainer = document.getElementById('social-links');
                if (data.social.github) {
                    socialContainer.innerHTML += `<a href="${data.social.github}" target="_blank" class="hover:text-primary transition-transform hover:-translate-y-1"><i class="fab fa-github"></i></a>`;
                }
                if (data.social.linkedin) {
                    socialContainer.innerHTML += `<a href="${data.social.linkedin}" target="_blank" class="hover:text-primary transition-transform hover:-translate-y-1"><i class="fab fa-linkedin"></i></a>`;
                }
                const emailComposeUrl = data.social.email;
                const emailAddress = data.social.emailAddress || 'scientan@gmail.com';
                if (emailComposeUrl) {
                    // Envelope icon opens Gmail compose
                    socialContainer.innerHTML += `<a href="${emailComposeUrl}" target="_blank" class="hover:text-primary transition-transform hover:-translate-y-1"><i class="fas fa-envelope"></i></a>`;

                    // Inject improved Email section: Email Me + Copy Email
                    const emailContainer = document.getElementById('email-container');
                    if (emailContainer) {
                        emailContainer.innerHTML = `
                            <div class="flex items-center justify-center gap-4 flex-wrap">
                                <button id="email-me-btn" class="group relative inline-flex items-center justify-center px-8 py-3 text-lg font-medium text-white transition-all duration-300 bg-red-600 rounded-full hover:bg-red-700 hover:shadow-lg hover:-translate-y-1">
                                    <span class="absolute inset-0 w-full h-full rounded-full opacity-0 group-hover:opacity-20 bg-gradient-to-tr from-white to-transparent"></span>
                                    <i class="fas fa-envelope mr-3 group-hover:rotate-12 transition-transform"></i>
                                    Email Me
                                </button>
                                <button id="copy-email-btn" class="inline-flex items-center justify-center px-6 py-3 text-lg font-medium rounded-full border border-gray-300 dark:border-gray-700 text-gray-800 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all">
                                    <i class="fas fa-copy mr-2"></i>
                                    Copy Email
                                </button>
                            </div>
                            <p id="email-feedback" class="mt-3 text-sm text-green-600 dark:text-green-400 hidden">Email copied to clipboard</p>
                        `;

                        const emailBtn = document.getElementById('email-me-btn');
                        const copyBtn = document.getElementById('copy-email-btn');
                        const feedbackEl = document.getElementById('email-feedback');

                        function showFeedback(msg, ok = true) {
                            if (!feedbackEl) return;
                            feedbackEl.textContent = msg;
                            feedbackEl.classList.remove('hidden');
                            feedbackEl.classList.toggle('text-green-600', ok);
                            feedbackEl.classList.toggle('text-red-600', !ok);
                            setTimeout(() => feedbackEl.classList.add('hidden'), 2000);
                        }

                        if (emailBtn) {
                            emailBtn.addEventListener('click', () => {
                                // Prefer Gmail compose in new tab
                                window.open(emailComposeUrl, '_blank');
                            });
                        }

                        if (copyBtn) {
                            copyBtn.addEventListener('click', async () => {
                                try {
                                    await navigator.clipboard.writeText(emailAddress);
                                    showFeedback('Email copied to clipboard');
                                } catch (e) {
                                    showFeedback('Unable to copy email', false);
                                }
                            });
                        }
                    }
                }
            })
            .catch(error => {
                console.error('Error loading data:', error);
                document.getElementById('hero-name').textContent = "Error loading data";
                const heroTyped = document.getElementById('hero-typed');
                if (heroTyped) heroTyped.textContent = '';
            });
    </script>
</body>
</html>